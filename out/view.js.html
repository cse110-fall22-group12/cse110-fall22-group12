<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: view.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: view.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import {get_selected_data, delete_selected_data} from './data.js';

window.addEventListener('DOMContentLoaded', init);

/**
 * This function constructs the body by reading in information about the
 * recipe from local storage.
 */
function construct_body() {
  // get the selected food recipe
  const data = get_selected_data();

  // display the name of the selected food recipe
  const name = document.getElementsByClassName('recipe-name')[0];
  name.querySelector('h1').innerHTML = data.name;

  // display the name of the selected food ingredients
  const ingredient = document.getElementsByClassName('block')[0];
  ingredient.querySelector('p').innerHTML = data.ingredients;

  // display the name of the selected recipe's steps
  const step = document.getElementsByClassName('block')[1];
  step.querySelector('p').innerHTML = data.steps;

  // display the name of the selected recipe's notes
  const note = document.getElementsByClassName('block')[2];
  note.querySelector('p').innerHTML = data.notes;
}

/**
 * Initialization function that sets up functionalities for the home, edit,
 * and delete button. This function also displays the selected recipe.
 */
function init() {
  // display the selected recipe
  construct_body();
  let showing_alert_box = false;

  // when home button is clicked,  transit to home page
  const home = document.getElementById('view-page-home-button');
  home.addEventListener('click', function(event) {
    if (showing_alert_box) {
      return;
    }
    window.location.href = 'home.html';
  });

  // when edit button is clicked, transit to edit page
  const edit = document.getElementById('view-page-edit-button');
  edit.addEventListener('click', function(event) {
    if (showing_alert_box) {
      return;
    }
    window.location.href = 'edit.html';
  });

  // when the delete button is clicked, the warning box pops out
  const view = document.getElementById('view-page-delete-button');
  view.addEventListener('click', function(event) {
    if (showing_alert_box) {
      return;
    }
    const deleteElement = document.getElementById('view-delete-box');
    deleteElement.style.display = 'block';
    showing_alert_box = true;
  });

  // when delete pop-up box's yes button is clicked, transit to home page
  const yes_button = document.getElementById('view-yes-delete-button');
  yes_button.addEventListener('click', function(event) {
    delete_selected_data();
    window.location.href = 'home.html';
    showing_alert_box = false;
  });

  // when delete pop-up box's no button is clicked, stay at the edit page
  const no_button = document.getElementById('view-no-delete-button');
  no_button.addEventListener('click', function(event) {
    const deleteElement = document.getElementById('view-delete-box');
    deleteElement.style.display = 'none';
    showing_alert_box = false;
  });
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Recipe_Cell.html">Recipe_Cell</a></li></ul><h3>Global</h3><ul><li><a href="global.html#DATA_ARRAY_KEY">DATA_ARRAY_KEY</a></li><li><a href="global.html#DEV_MODE">DEV_MODE</a></li><li><a href="global.html#ID_GENERATOR_KEY">ID_GENERATOR_KEY</a></li><li><a href="global.html#NEW_DATA_INDEX">NEW_DATA_INDEX</a></li><li><a href="global.html#SELECTED_DATA_ID_KEY">SELECTED_DATA_ID_KEY</a></li><li><a href="global.html#add_sample_data">add_sample_data</a></li><li><a href="global.html#append_recipe_as_child">append_recipe_as_child</a></li><li><a href="global.html#construct_body">construct_body</a></li><li><a href="global.html#construct_header">construct_header</a></li><li><a href="global.html#create_new_data">create_new_data</a></li><li><a href="global.html#delete_selected_data">delete_selected_data</a></li><li><a href="global.html#get_data">get_data</a></li><li><a href="global.html#get_selected_data">get_selected_data</a></li><li><a href="global.html#get_selected_data_id">get_selected_data_id</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#is_launched_for_the_first_time">is_launched_for_the_first_time</a></li><li><a href="global.html#overwrite_selected_data">overwrite_selected_data</a></li><li><a href="global.html#read_data_array">read_data_array</a></li><li><a href="global.html#select_data_by_id">select_data_by_id</a></li><li><a href="global.html#set_data">set_data</a></li><li><a href="global.html#template_data">template_data</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.0</a> on Sun Dec 04 2022 00:41:53 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
